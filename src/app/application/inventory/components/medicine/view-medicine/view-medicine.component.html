<div class="container-fluid">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
       <h1 class="h3 mb-0 text-gray-800">Medicine Details</h1>
       <button type="button" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" (click)="backtoListing()"><i class="fa fa-angle-left"></i>&nbsp; Back</button>
    </div>
    <!-- Page Body -->
    <div class="d-flex justify-content-center" *ngIf="!(!!medicineDetails && medicineDetails !== null)">
      <div class="my-5">
         <button class="btn btn-outline-secondary" type="button" disabled>
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Loading...
         </button>
      </div>
    </div>
    <div class="row pb-4" *ngIf="!!medicineDetails && medicineDetails !== null">
       <div class="col-xl-12 col-lg-12">
          <div class="card shadow p-4">
             <div class="table-responsive-sm">
                <table class="table table-bordered">
                   <tbody>
                      <tr>
                         <td>
                            <span><strong>Vendor ID: </strong></span>
                            <span class="float-right">{{!!medicineDetails.vendorId && medicineDetails.vendorId !== '' ? medicineDetails.vendorId : 'NA'}}</span>
                         </td>
                         <td>
                            <span><strong>Vendor SKU : </strong></span>
                            <span class="float-right">{{!!medicineDetails.vendorSku && medicineDetails.vendorSku !== '' ? medicineDetails.vendorSku : 'NA'}}</span>
                         </td>
                         <td>
                            <span><strong>Item Type: </strong></span>
                            <span class="float-right">{{!!medicineDetails.type && medicineDetails.type !== '' ? medicineDetails.type : 'NA'}}</span>
                         </td>
                      </tr>
                      <tr>
                         <td>
                            <span><strong>Medicine Name: </strong></span>
                            <span class="float-right">{{!!medicineDetails.itemName && medicineDetails.itemName !== '' ? medicineDetails.itemName : 'NA'}}</span>
                         </td>
                         <td>
                            <span><strong>Category: </strong></span>
                            <span class="float-right">{{!!medicineDetails.category && medicineDetails.category !== '' ? medicineDetails.category : 'NA'}}</span>
                         </td>
                         <td>
                            <span><strong>Subcategory: </strong></span>
                            <span class="float-right">{{!!medicineDetails.subcategory && medicineDetails.subcategory !== '' ? medicineDetails.subcategory : 'NA'}}</span>
                         </td>
                      </tr>
                      <tr>
                         <td>
                            <span><strong>MRP: </strong></span>
                            <span class="float-right">{{!!medicineDetails.mrp && medicineDetails.mrp !== '' ? medicineDetails.mrp : 'NA'}}</span>
                         </td>
                         <td>
                            <span><strong>Cost To Company: </strong></span>
                            <span class="float-right">{{!!medicineDetails.costToCompany && medicineDetails.costToCompany !== '' ? medicineDetails.costToCompany : 'NA'}}</span>
                         </td>
                         <td>
                           <span><strong>GST (%): </strong></span>
                           <span class="float-right">{{!!medicineDetails.gst && medicineDetails.gst !== '' ? medicineDetails.gst : 'NA'}}</span>
                        </td>
                      </tr>
                      <tr>
                         <td>
                            <span><strong>Packaging Type: </strong></span>
                            <span class="float-right">{{!!medicineDetails.packing && medicineDetails.packing !== '' ? medicineDetails.packing : 'NA'}}</span>
                         </td>
                         <td>
                           <span><strong>Prescription Required? : </strong></span>
                           <span class="float-right" *ngIf="medicineDetails?.prescriptionRequired === true">Yes</span>
                           <span class="float-right" *ngIf="medicineDetails?.prescriptionRequired === false">No</span>
                        </td>
                         <td>
                            <span><strong>Salt Name: </strong></span>
                            <span class="float-right">{{!!medicineDetails.saltName && medicineDetails.saltName !== '' ? medicineDetails.saltName : 'NA'}}</span>
                         </td>
                      </tr>
                      <tr>
                         <td>
                            <span><strong>Total Margin: </strong></span>
                            <span class="float-right">{{!!medicineDetails.totalMargin && medicineDetails.totalMargin !== '' ? medicineDetails.totalMargin : 'NA'}}</span>
                         </td>
                         <td>
                            <span><strong>SKU: </strong></span>
                            <span class="float-right">{{!!medicineDetails.sku && medicineDetails.sku !== '' ? medicineDetails.sku : 'NA'}}</span>
                         </td>
                         <td>
                           <span><strong>Company: </strong></span>
                           <span class="float-right">{{!!medicineDetails.companyName && medicineDetails.companyName !== '' ? medicineDetails.companyName : 'NA'}}</span>
                        </td>
                      </tr>
                      <tr>
                        <td>
                           <span><strong>Batch ID: </strong></span>
                           <span class="float-right">{{!!medicineDetails.batchId && medicineDetails.batchId !== '' ? medicineDetails.batchId : 'NA'}}</span>
                        </td>
                         <td>
                            <span><strong>Is Medicine Available? : </strong></span>
                            <span class="float-right" *ngIf="medicineDetails?.isAvailable === true">Yes</span>
                            <span class="float-right" *ngIf="medicineDetails?.isAvailable === false">No</span>
                         </td>
                         <td>
                           <span><strong>Status: </strong></span>
                           <span class="float-right">{{!!medicineDetails.availabilityStatus && medicineDetails.availabilityStatus !== '' ? medicineDetails.availabilityStatus : 'NA'}}</span>
                        </td>
                      </tr>
                      <tr>
                        <td>
                           <span><strong>SSP Margin: </strong></span>
                           <span class="float-right">{{!!medicineDetails.SSP_Margin && medicineDetails.SSP_Margin !== '' ? medicineDetails.SSP_Margin : 'NA'}}</span>
                        </td>
                        <td>
                           <span><strong>SS Margin: </strong></span>
                           <span class="float-right">{{!!medicineDetails.SS_Margin && medicineDetails.SS_Margin !== '' ? medicineDetails.SS_Margin : 'NA'}}</span>
                        </td>
                      </tr>
                   </tbody>
                </table>
                <table class="table table-bordered image-table">
                   <tbody>
                      <tr>
                         <td>
                           <p><strong>Medicine Image: </strong></p>
                           <div class="d-flex" *ngIf="!!medicineDetails?.images && medicineDetails?.images.length != 0">
                              <div class="m-1" *ngFor="let item of medicineDetails?.images;">
                                 <img src="{{item}}" alt="{{medicineDetails?.itemName}}" class="view-thumbnail-img" *ngIf="(item.includes('jpeg')) || (item.includes('png')) || (item.includes('jpg'))" data-toggle="tooltip" data-placement="bottom" title="View Medicine Image" data-toggle="modal" data-target="#openImageModal" (click)="openSpecificImage(item)">
                              </div>
                            </div>
                            <div *ngIf="!(!!medicineDetails?.images) || medicineDetails?.images.length === 0 || medicineDetails?.images[0] === ''">
                                 <img src="../../../../../assets/img/dummy.png" alt="Dummy Image" class="view-thumbnail-img" data-toggle="tooltip" data-placement="bottom" title="No Image Available" (click)="toasterAlert()">
                           </div>
                         </td>
                      </tr>
                   </tbody>
                </table>
             </div>
             <div class="text-left my-2 d-block">
                <p class="text-muted"><small>*NA : Not Available</small></p>
             </div>
          </div>
       </div>
    </div>
 </div>
 <div class="modal fade" id="openImageModal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="viewImageModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="viewImageModalLabel">Medicine Image</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
            </button>
         </div>
         <div class="modal-body" *ngIf="!!specificImageData">
            <p><small><strong>Note: &nbsp;</strong>Please click on the image to download.</small></p>
            <a href="{{specificImageData}}" download>
               <img src="{{specificImageData}}" class="img-fluid w-100 h-100" alt="Image Details">
            </a>
         </div>
         <div class="modal-footer">
            <button class="btn btn-outline-secondary w-25" type="button" data-dismiss="modal">Close</button>
         </div>
      </div>
   </div>
</div>